<template>
    <lightning-record-edit-form object-api-name="Consent__c" record-id={recordId} onsubmit={handleSubmit} onsuccess={handleSuccess}>
        <lightning-messages>
        </lightning-messages>
        <lightning-input-field field-name="Name" onchange={handleValueChange} required="true">
        </lightning-input-field>
        <lightning-input-field field-name="Account__c" required="true">
        </lightning-input-field>
        <lightning-input-field field-name="EntityConsent__c" required="true">
        </lightning-input-field>
        <lightning-input-field field-name="GeneralConsentVersion__c" required="true">
        </lightning-input-field>
        <span data-id="agentCPUSpan">
            <lightning-input-field field-name="AgentCPU__c" data-id="AgentCPU__c" onfocusout={handleAgentCPUChange}>
            </lightning-input-field>
            <template if:true={agentCPUError}>
                <div class="slds-form-element__help slds-m-left_xx-small" id="error-message-unique-id">{labels.errorMessageNoUser}</div>
            </template>
        </span>
        <div if:true={isSaving} class="slds-is-relative">
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </div>
        <lightning-input-field field-name="SubstitutePerson__c">
        </lightning-input-field>
        <lightning-input-field field-name="SubstituteRole__c">
        </lightning-input-field>
        <lightning-input-field field-name="ConsentId__c">
        </lightning-input-field>
        <lightning-input-field field-name="ConsentValidFrom__c">
        </lightning-input-field>
        <lightning-input-field field-name="ConsentValidTo__c">
        </lightning-input-field>
        <br><br>
        <lightning-input-field field-name="AllConsent__c" onchange={handleValueChange} required="true">
        </lightning-input-field>
        <lightning-input-field field-name="PhoneConsent__c" data-isconsenttype="true" required="true">
        </lightning-input-field>
        <lightning-input-field field-name="SMSConsent__c" data-isconsenttype="true" required="true">
        </lightning-input-field>
        <lightning-input-field field-name="EmailConsent__c" data-isconsenttype="true" required="true">
        </lightning-input-field>
        <lightning-input-field field-name="PostConsent__c" data-isconsenttype="true" required="true">
        </lightning-input-field>
        <lightning-input-field field-name="PortalConsent__c" data-isconsenttype="true" required="true">
        </lightning-input-field>
        <br><br>
        <lightning-input-field field-name="CreatedDate__c">
        </lightning-input-field>
        <lightning-input-field field-name="CreatedBy__c">
        </lightning-input-field>
        <lightning-input-field field-name="UpdatedDate__c">
        </lightning-input-field>
        <lightning-input-field field-name="UpdatedBy__c">
        </lightning-input-field>
        <lightning-input-field field-name="ExternalId__c">
        </lightning-input-field>
        
        <lightning-button label={labels.cancel} variant="neutral" onclick={handleClose}></lightning-button>&nbsp;&nbsp;&nbsp;&nbsp;
        <lightning-button type="submit" label={labels.save} variant="brand"></lightning-button>
    </lightning-record-edit-form>
</template>